import { LoginRedirector } from '../components/LoginRedirector';
import { useLocation, Navigate } from 'react-router-dom';

export default function Login() {
  const location = useLocation();
  const queryParams = new URLSearchParams(location.search);
  const authSuccess = queryParams.get('auth_success') === 'true';
  if (authSuccess) {
    return <Navigate to={localStorage.getItem('authRedirectUrl') ?? '/'} />;
  }
  return <LoginRedirector redirectUrl={location?.state?.from} />;
}
