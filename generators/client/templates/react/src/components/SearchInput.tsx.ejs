import { useState } from 'react';
import { Search, X } from 'lucide-react';

interface ISearchInput {
  onChange: (value: string) => void;
  onClear: () => void;
}

const SearchInput: React.FC<ISearchInput> = ({ onChange, onClear }) => {
  const [searchTerm, setSearchTerm] = useState('');
  return (
    <div className="grid grid-cols-1 w-full">
      <div className="cursor-pointer col-start-1 row-start-1 ml-2 self-center justify-self-start size-5 sm:size-4 relative">
        <Search className="h-full" />
      </div>
      <input
        type="text"
        id="searchterm"
        className="scheme-light dark:scheme-dark outline-0 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 rounded-md block w-full border-none bg-slate-200 text-slate-900 dark:bg-gray-800 dark:text-gray-300 text-sm/6 py-1.5 px-10 col-start-1 row-start-1"
        onChange={(e) => {
          setSearchTerm(e.target.value);
          onChange(e.target.value);
        }}
        value={searchTerm}
      />
      <button
        type="button"
        onClick={() => {
          if (searchTerm) {
            setSearchTerm('');
            onClear();
          }
        }}
        className="cursor-pointer col-start-1 row-start-1 mr-4 self-center justify-self-end size-5 sm:size-4"
      >
        {searchTerm && <X className="h-full" />}
      </button>
    </div>
  );
};

export { SearchInput };
