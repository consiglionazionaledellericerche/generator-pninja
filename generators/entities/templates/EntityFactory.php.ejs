<?php

namespace Database\Factories;

<%- models %>
use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Facades\Storage;

class <%- entityName %>Factory extends Factory
{
    protected $model = <%- entityName %>::class;

    protected function getRandomUniqueValue(array $idsA, array $idsB) {
        $uniqueValues = array_diff($idsA, $idsB);
        if (!empty($uniqueValues)) {
            return $uniqueValues[array_rand($uniqueValues)];
        }
        return null;
    }

    public function definition(): array
    {
<% files.forEach(file => {-%>
<%  if(file==='pdf') {-%>
        $pdfFileId = uniqid();
        Storage::disk('private')->copy('uploads/0000/00/00/dummy.pdf', "uploads/0000/00/00/{$pdfFileId}-dummy.pdf");
<%  };-%>
<%  if(file==='image') {-%>
        $imageFileId = uniqid();
        Storage::disk('private')->copy('uploads/0000/00/00/image_placeholder.png', "uploads/0000/00/00/{$imageFileId}-image_placeholder.png");
<%  };-%>
<%});-%>
        return [
<%- params %>
        ];
    }
}