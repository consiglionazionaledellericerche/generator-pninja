<?php

namespace Database\Factories;

<%- models %>
use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Facades\Storage;

class <%- entityName %>Factory extends Factory
{
    protected $model = <%- entityName %>::class;

    protected function getRandomUniqueValue(array $idsA, array $idsB) {
        $uniqueValues = array_diff($idsA, $idsB);
        if (!empty($uniqueValues)) {
            return $uniqueValues[array_rand($uniqueValues)];
        }
        return null;
    }

    public function definition(): array
    {
<% files.forEach(file => {-%>
        $fileId = uniqid();
        Storage::disk('private')->copy('uploads/0000/00/00/<%-file%>', "uploads/0000/00/00/{$fileId}-<%-file%>");
<%});-%>
        return [
<%- params %>
        ];
    }
}